<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALL GYM - Weight</title>
    <link rel="stylesheet" href="css/weight.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="weight-container">
        <div class="top-content">
            <h1 class="page-title">몸무게를 알려주세요</h1>
            <p class="page-desc">P.T 상담시 입력하지 않으셔도 자동으로 정보를<br>제공해 드립니다.</p>
        </div>

        <div class="weight-display">
            <span class="weight-value" id="weightValue">54</span>
            <span class="weight-unit">kg</span>
        </div>

        <!-- Horizontal Ruler Picker -->
        <div class="ruler-wrapper">
            <div class="center-line"></div>
            <div class="ruler-scroller" id="rulerScroller">
                <!-- Ticks generated by JS -->
            </div>
        </div>

        <div class="bottom-actions">
            <a href="age.html" class="btn btn-prev">이전</a>
            <button class="btn btn-next" id="nextBtn">다음</button>
        </div>
    </div>

    <script>
        const scroller = document.getElementById('rulerScroller');
        const display = document.getElementById('weightValue');
        const tickWidth = 10; // px per tick (1 tick = 1kg ideally, but maybe too dense. Let's say 10px = 1kg for smooth scrolling logic, or use tick gap)
        // Image shows ticks. Some long, some short. 
        // Let's generate ticks for 30kg to 150kg.
        
        const minWeight = 0;
        const maxWeight = 300;
        const initialWeight = 54;
        const pixelsPerKg = 20; // Distance between main ticks

        // Generate ticks
        // We need padding to center the ticks. 
        // Container width approx 390px. Center is at 195px.
        
        // Let's create a spacer at start and end
        const spacer = document.createElement('div');
        spacer.style.width = '50%'; // Simplification: use CSS padding on container
        
        for (let i = minWeight; i <= maxWeight; i++) {
            // For each kg, maybe 5 small ticks? Or just 1 tick per kg?
            // Image shows dense ticks. Let's assume 1 tick per kg for simplicity or 1 tick per 0.5kg.
            // Let's do 1 tick per kg for MVP.
            
            const tickWrapper = document.createElement('div');
            tickWrapper.className = 'tick-wrapper';
            tickWrapper.style.width = `${pixelsPerKg}px`;
            
            const tick = document.createElement('div');
            tick.className = i % 5 === 0 || i % 10 === 0 ? 'tick long' : 'tick short';
            // Actually image shows ruler lines. 
            // Let's just make simple lines.
            
            tickWrapper.appendChild(tick);
            scroller.appendChild(tickWrapper);
        }

        // Scroll Logic
        let isScrolling;
        
        scroller.addEventListener('scroll', () => {
             // Calculate weight based on scroll position
             // scrollLeft 0 = minWeight
             
             // We need to account for padding.
             // Center line is fixed. 
             // Value = minWeight + (scrollLeft / pixelsPerKg)
             
             let val = minWeight + (scroller.scrollLeft / pixelsPerKg);
             display.textContent = Math.round(val);
        });

        // Initial set
        window.onload = () => {
             const offset = (initialWeight - minWeight) * pixelsPerKg;
             scroller.scrollLeft = offset;
        }
        
        document.getElementById('nextBtn').addEventListener('click', () => {
             window.location.href = 'height.html';
        });
    </script>
</body>

</html>
